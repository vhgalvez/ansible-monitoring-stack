# 📦 group_vars/all.yml

# Variables globales para todos los playbooks y roles del stack de monitoreo (Prometheus + Grafana + Node Exporter)

# ─────────────────────────────────────────────
# 🛠️ Variables de entorno para Helm y kubectl
grafana_env:
  PATH: "/usr/local/bin:/usr/bin:/bin"  # PATH extendido para Helm/kubectl desde Ansible

# ─────────────────────────────────────────────
# 🎯 Configuración de extraScrapeConfigs para Prometheus
extraScrapeConfigs:
  - job_name: 'node-exporter'
    kubernetes_sd_configs:
      - role: endpoints
    relabel_configs:
      - source_labels: [__meta_kubernetes_endpoints_name]
        regex: 'node-exporter-prometheus-node-exporter'
        action: keep