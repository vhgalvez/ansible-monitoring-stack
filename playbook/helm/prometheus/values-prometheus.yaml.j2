# helm/prometheus/values-prometheus.yaml.j2
server:
  service:
    type: NodePort
    port: 9091
    targetPort: 9091
    nodePort: 32001

  ingress:
    enabled: true
    hosts:
      - prometheus.local
    paths:
      - /

  resources:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 1
      memory: 2Gi

# Configuraci√≥n adicional de scrape
extraScrapeConfigs: |
  - job_name: 'node-exporter'
    kubernetes_sd_configs:
      - role: endpoints
    relabel_configs:
      - source_labels: [__meta_kubernetes_endpoints_name]
        regex: 'node-exporter-prometheus-node-exporter'
        action: keep