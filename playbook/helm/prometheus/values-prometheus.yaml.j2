# helm/prometheus/values-prometheus.yaml.j2
server:
  enabled: True
  replicas: 1
  image:
    repository: quay.io/prometheus/prometheus
    tag: v3.2.1
    pullPolicy: IfNotPresent
  service:
    type: ClusterIP
    port: 9091  # Cambiado a 9091
    targetPort: 9091
  resources:
    requests:
      cpu: 2
      memory: 4Gi
    limits:
      cpu: 4
      memory: 8Gi
  livenessProbe:
    httpGet:
      path: /-/healthy
      port: 9091  # Cambiado a 9091
    initialDelaySeconds: 30
    timeoutSeconds: 10
    periodSeconds: 15
    failureThreshold: 3
  readinessProbe:
    httpGet:
      path: /-/ready
      port: 9091  # Cambiado a 9091
    initialDelaySeconds: 30
    timeoutSeconds: 4
    periodSeconds: 5
    failureThreshold: 3
  extraArgs:
    web.listen-address: ":9091"  # Cambiado a 9091
  extraScrapeConfigs: |
    - job_name: 'custom-job'
      static_configs:
        - targets: ['localhost:9091']  # Cambiado a 9091