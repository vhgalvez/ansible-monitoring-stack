# vars/main.yml
# Credenciales de autenticación básica para Prometheus y Grafana
# **Recomendación: Usar un sistema de gestión de secretos para mayor seguridad**
prometheus_auth_user: "{{ lookup('env', 'PROMETHEUS_AUTH_USER') }}"  # Obtención desde la variable de entorno
prometheus_auth_pass: "{{ lookup('env', 'PROMETHEUS_AUTH_PASS') }}"  # Obtención desde la variable de entorno

grafana_auth_user: "{{ lookup('env', 'GRAFANA_AUTH_USER') }}"  # Obtención desde la variable de entorno
grafana_auth_pass: "{{ lookup('env', 'GRAFANA_AUTH_PASS') }}"  # Obtención desde la variable de entorno

# Dominio y namespace donde se desplegarán los Dashboards
domain: monitoring.socialdevs.site
monitoring_namespace: monitoring  # Namespace donde se desplegará Prometheus y Grafana

# Nombres del Middleware y Secret sellado
prometheus_dashboard_middleware_name: prometheus-dashboard-auth
grafana_dashboard_middleware_name: grafana-dashboard-auth
prometheus_secret_name: prometheus-dashboard-auth
grafana_secret_name: grafana-dashboard-auth

# Ruta del kubeconfig y token de acceso al clúster (usado por kubectl/kubeseal)
kubeconfig_path: "/home/victory/.kube/config"
kubeconfig_token_path: "/home/victory/.kube/token.jwt"  # Asegúrate de que este archivo esté bien protegido

# Dirección VIP del clúster Kubernetes (útil para balanceo o HA)
vip_kubernetes: "192.168.0.32"  # Asegúrate de que esta dirección esté correctamente configurada y accesible

# Ruta del binario kubectl y kubeseal
kubectl_path: "/usr/local/bin/kubectl"
kubeseal_path: "/usr/local/bin/kubeseal"  # Asegúrate de que kubeseal esté correctamente instalado y accesible

# TLS Secret creado en Kubernetes
tls_secret_name: wildcard-socialdevs-tls  # El Secret TLS que contiene el certificado y la clave privada

# Configuración opcional de redirección automática HTTP -> HTTPS
http_to_https_redirect: true  # Si deseas redirigir automáticamente todo el tráfico HTTP a HTTPS

# Configuración del repositorio de Helm para Prometheus y Grafana
prometheus_chart_version: "27.11.0"
grafana_chart_version: "8.12.1"

# Configuración de Prometheus y Grafana
prometheus_values_path: "/tmp/values-prometheus.yaml"
grafana_values_path: "/tmp/values-grafana.yaml"