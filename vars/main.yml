# vars/main.yml

# üìù Variables de configuraci√≥n para el stack de monitoreo (Prometheus + Grafana)

# Credenciales generales de autenticaci√≥n para Prometheus y Grafana
prometheus_auth_user: "{{ lookup('env', 'PROMETHEUS_AUTH_USER') }}" # Obtenci√≥n desde la variable de entorno
prometheus_auth_pass: "{{ lookup('env', 'PROMETHEUS_AUTH_PASS') }}" # Obtenci√≥n desde la variable de entorno

grafana_auth_user: "{{ lookup('env', 'GRAFANA_AUTH_USER') }}" # Obtenci√≥n desde la variable de entorno
grafana_auth_pass: "{{ lookup('env', 'GRAFANA_AUTH_PASS') }}" # Obtenci√≥n desde la variable de entorno

# üõ†Ô∏è Credenciales de autenticaci√≥n para la interfaz de usuario (UI) de Prometheus y Grafana
prometheus_auth_user_ui: "{{ lookup('env', 'PROMETHEUS_AUTH_USER_UI') }}" # Obtenci√≥n desde la variable de entorno
prometheus_auth_pass_ui: "{{ lookup('env', 'PROMETHEUS_AUTH_PASS_UI') }}" # Obtenci√≥n desde la variable de entorno

grafana_auth_user_ui: "{{ lookup('env', 'GRAFANA_AUTH_USER_UI') }}" # Obtenci√≥n desde la variable de entorno
grafana_auth_pass_ui: "{{ lookup('env', 'GRAFANA_AUTH_PASS_UI') }}" # Obtenci√≥n desde la variable de entorno

# üè∑Ô∏è Dominio y namespace donde se desplegar√°n los Dashboards
domain: "monitoring.socialdevs.site"
monitoring_namespace: "monitoring" # Namespace donde se desplegar√° Prometheus y Grafana

# Nombres del Middleware y Secret sellado para la autenticaci√≥n b√°sica
prometheus_dashboard_middleware_name: "prometheus-dashboard-auth"
grafana_dashboard_middleware_name: "grafana-dashboard-auth"
prometheus_secret_name: "prometheus-dashboard-auth"
grafana_secret_name: "grafana-dashboard-auth"

# üåê Ruta del kubeconfig y token de acceso al cl√∫ster (usado por kubectl/kubeseal)
kubeconfig_path: "/home/victory/.kube/config"
kubeconfig_token_path: "/home/victory/.kube/token.jwt" # Aseg√∫rate de que este archivo est√© bien protegido

# üîå Direcci√≥n VIP del cl√∫ster Kubernetes (√∫til para balanceo o HA)
vip_kubernetes: "192.168.0.32" # Aseg√∫rate de que esta direcci√≥n est√© correctamente configurada y accesible

# üîß Ruta del binario kubectl y kubeseal
kubectl_path: "/usr/local/bin/kubectl"
kubeseal_path: "/usr/local/bin/kubeseal" # Aseg√∫rate de que kubeseal est√© correctamente instalado y accesible

# üîí TLS Secret creado en Kubernetes
tls_secret_name: "wildcard-socialdevs-tls" # El nombre del secret TLS debe ser definido aqu√≠

# üåê Configuraci√≥n opcional de redirecci√≥n autom√°tica HTTP -> HTTPS
http_to_https_redirect: true # Si deseas redirigir autom√°ticamente todo el tr√°fico HTTP a HTTPS

# üì¶ Configuraci√≥n del repositorio de Helm para Prometheus y Grafana
prometheus_chart_version: "27.23.0"
grafana_chart_version: "9.2.9"

# üõ†Ô∏è Configuraci√≥n de Prometheus y Grafana
prometheus_values_path: "/home/victory/code-FlatcarMicroCloud/ansible-monitoring-stack/playbook/helm/prometheus/values-prometheus.yaml.j2"  # Ruta absoluta
grafana_values_path: "/home/victory/code-FlatcarMicroCloud/ansible-monitoring-stack/playbook/helm/grafana/values-grafana.yaml.j2"  # Ruta absoluta